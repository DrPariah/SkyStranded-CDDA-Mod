# Sky Stranded
Sky Stranded is a CDDA mod that introduces a new way to play. From your base in the sky, teleport to and from the ever-changing* world. Set up a permanent base on a desolate floating island, and make increasingly deep forays into the transient wilderness. Bring back anything you can carry, but leave the rest -- the world resets every time you leave it*, and anything you can't take with you will be gone forever. How much can you get done before the world rots away at you and forces you to escape to the safety of your sanctuary? How well can you manage your limited opportunities? How much can you pack while still leaving room for all the loot you'll need to carry home?
Please note that due to limitations, there is one big catch in this mod.*

## Update 1:
Added dimensional essence and dimensional fultons.

## Overview
Your sanctuary, a floating bubble of space in an interdimensional void, will serve as your home base. The only way in or out is a Recall Portal you can operate with the use of your provided Recall Stone. Here in the sanctuary, you can build structures, set up crafting areas, stash your loot, cultivate farms, and so on. You should be completely safe here, but it's absolutely desolate to start. Your first priority will likely be to set up a pile for your loot and a comfortable sleeping area sheltered from the elements. Beyond that, it's up to you!

The world beyond, which you'll use the Recall Stone to jump into, is ever-changing*. The good news is that this means every trip outside your sanctuary will be immediate and unlooted; you won't have to worry about clearing out every nearby area and having to travel increasingly far just to find fresh loot! The bad news is that when you leave, you'll never see that place again -- there's no way to return to it! Grab everything you can carry and when you warp home, it'll come with you. But anything you leave behind will be gone forever.

Beware! The shifting reality you've been thrust into has left you *warptouched*. You can get free inoculations any time from your old administrator at your home base, but these only last 48 hours. When time is up, your stats will all be hit with a **-10** penalty. That's your sign to get home -- fast! -- and get your next shot. Warptouched acts as a 'soft' time limit on your excursions away from your sanctuary, ensuring you can't stay in the miasma of the other dimension forever, and will need to return home periodically.

In this new economy, you may find yourself playing with different priorities. Vehicles seem less important because there's no way to take them with you, but a foldable vehicle you can take with you could change everything. Storage is at a premium, but what can you leave at home to ensure you've got space for the loot you'll be picking up, and how can you still manage your encumbrance? Do you warp home at the first sign of trouble, or do you stick it out, risking danger until you've cleared the location you've been searching for for so long? What if your backpack rips in the middle of a harrowing fight? Do you risk your life to find a way to carry home your spilled items, or do you cut your losses and leave behind what could be several trip's worth of valuable equipment? And how can you find, infiltrate, and clear challenging locations like labs

# How to Install
1. To play Sky Stranded, first install and enable this mod on a new world. **Static NPCs must be turned on!** You may want slightly different world parameters than usual, given the change in balance.
2. Before making a new character in this new world, first copy over the contents of the SKYWORLD folder included in this download to the new world directory you've just made.
3. Make a new character and choose "Sky Stranded" as your starting scenario.
  NOTE: Your stats will look terrible, but don't fret -- they're actually 10 points higher than they display, so they still default to the normal 8, not the -2 it says. This discrepancy is a result of the warptouched penalty you'll be dealing with.
4. Once you're all done and start your game, you should wake up on a floating island. From here, your new life begins!

# The 10-Step Basic Gameplay Loop
1. Open the debug menu (bind it to a key in the Keybind menu if you haven't already) and choose "Reveal Map". This is a (mostly) necessary step given how the game handles map generation.
2. While standing on the Recall Portal, and (a)ctivate the Recall Stone you're wearing, then choose to link it to the Recall Portal.
3. Get your inoculation shots from the Warp Administrator. Find him in the sanctuary, next to the Recall Portal.
4. While standing on the Recall Portal, and (a)ctivate the Recall Stone you're wearing, then choose to leave the sanctuary.
5. Pick any unexplored map tile and hit enter to teleport there. Your Recall Stone will now need about 1-2 hours to recharge for the trip home.
6. Explore, fight, and loot as you would normally.
7. When you're ready to head home, activate the Recall Stone and choose to return to your sanctuary.
8. Take care of any business you have in sanctuary. Drop off your loot, organize your base, work on constructions, craft, read, sleep, etc. Prepare for next outing. Pack wisely.
9. Say goodbye to the world you knew.*
10. Go to Step 3. Repeat.

# The Ever-Changing World (and the Big Catch)*
You probably noticed all the asterisks thus far. 
The world resetting so you can't revisit areas is one of the biggest and most important features of this mod. The world "resets" when you warp home -- it's what the mod was built and balanced around. 
### So here's the thing:
The mod, as you might expect, can't go into your hard drive and start deleting parts of your save file -- which is how these areas "reset". To achieve that result ***you have to manually delete some files yourself.***

## To reset the world outside your sanctuary:
1. Save and quit your game in progress.
2. Browse to your save game directory.
3. Delete all overmap files **except "o.0.0"**. These files will look like "o.2.1", "o.0.1", "o.1.0", etc. o.0.0 is where your home base is located, absolutely don't delete this one.
4. Delete all the folders that are inside the "maps" folder, **except "2.2.0"**. This is where your home base is. Everything else can go. 
5. You're all set! Load your game and anything outside your starting overmap should be completely reset, and will regenerate into a totally new configuration next time you go there.
If you're ever worried about this going wrong, feel free to keep backups!

You don't have to do this every single time you come home, of course. Just whenever you need to reset the world. What's important is that you **only warp to totally unexplored areas** -- so for example, no dropping off near a mansion you've already visited and then hiking to it, or warping in a few tiles off from a city street you've been to, knowing you'll still be in a city.

# Dimensional Essence (NEW)
Dimensional essence can drop from any zombie, with special zombies increasingly more likely to drop them as enemy difficulty rises (hulks are the best shot). Essence is weightless and easy to carry, and can be eaten in an emergency, for +2 hours of warp immunity.
The play can also craft a "dimensional fulton" device which can be used to hyper-condense certain common resources down to an easily carried size, which can then be 'unpacked' back at your home base. The device itself is reusable, but must be 'refueled' with 1 unit of dimensional essence each time it's used.

The purpose of this change/balance is to make it easier to haul home normally immense/heavy items in large numbers, most especially things like logs and 2x4s, which are vital to building any structures on the island.
More resources maybe be added to the list as fulton-able by suggestion.

# Tips
* Until you build a comfy place to sleep in your sanctuary, you may have to use beds out in the world! This can be a bit more dangerous.
* Free space is a resource. Storage is incredibly important, but so is managing encumbrance and equipment. Every item you bring with you takes up valuable space.
* A good backpack will be one of your most valuable early finds. Until then, makeshift slings and similar items will encumber you greatly for very little space.
* Pack mule is an included trait!
* Try to have a goal in mind whenever you set out, but don't be afraid to change plans as the situation warrants.
* The warp home doesn't care about weight limits, and you can wield any volume. So just before you warp home, grab the biggest and heaviest things you can find! Great for bringing home corpses to butcher, large containers, vehicle parts, etc.
* While you won't have much use for vehicles, a folding bike can be a valuable thing to own, and if you plan on farming, a vehicle for automated work could come in handy in your sanctuary.
* Solar panels work fine on the island, so a powered crafting area is a fine investment.
* Dropping your backpack to free up encumbrance for a fight may be tempting, but use caution: if the fight goes south, you may not have a chance to return to your dropped items.
* Know when to cut your losses and run. Having to leave a valuable item behind is preferable to dying.
* This mod pairs well with my Convenient Constructions mod, which allows you to construct a home ATM and Recycler machine, as well as deconstructing and moving Autodocs. Installing an Autodoc in your base will require you to find and salvage at least one in the field first, but it sure beats having to find a new hospital every single time you want a new bionic installed!

# Customizing
1. You can open Preload.LUA in a text editor. At the top, "req_power_recall" is set to 2. You can change this to a higher number to change the amount of charges the Recall Stone must build up before you can use it to warp home.
2. You can open warpsickness.json in a text editor. Find this line:
>"max_duration": 28800,

28800 is the amount of time a warp inoculation will last. This is how long you can safely stay away from sanctuary. 600 units is one hour, so 28800 = 48 hours. By changing this number, you can change how long the player can safely stay away from sanctuary.

# Troubleshooting
>My Recall Stone was lost, destroyed, eaten, etc.

Accept death. Or just cheat yourself in another recall stone (and if necessary use the debug Long Range Teleport to warp home so you can bind it to your sanctuary).
>My island doesn't have a Warp Administrator.

You probably didn't turn Static NPCs on in your world's options. If you did, try this next step:
>I accidentally killed my Warp Administrator and now I can't get my shots.

We prepared for this. Check the included file "in case of admin death.txt"!
>Why can't I just...

Look, ultimately, you can play this mod however you want. If you want to never reset the world, or set the inoculation time super high, or anything like that, feel free to. Use it as a pocket base with a free teleporter, or some kind of Town Portal. Whatever you have fun with. It's a singleplayer game, after all.


## About this Mod
I made this mod on a whim because I wanted something a lot different from the normal gameplay of CDDA. It was originally just for personal use, but I was convinced to share it. Please excuse any flimsy areas, but this was only ever a pet project to start!

Most LUA code was half-cannibalized from my associated mod, Translocators.
